# üì∑ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ CKEditor

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### üéØ –ì–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤** (`/add_material`)
- ‚úÖ **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤** (`/material/{id}/edit`)
- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–æ—Ä—è–∂–µ–Ω–∏–π** (`/orders/add`)
- ‚úÖ **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å–ø–æ—Ä—è–∂–µ–Ω–∏–π** (`/orders/{id}/edit`)

### üìã –°–ø–æ—Å–æ–±—ã –∑–∞–≥—Ä—É–∑–∫–∏:

#### 1. üñ±Ô∏è –ö–Ω–æ–ø–∫–∞ "Upload Image"
- –í –ø–∞–Ω–µ–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ CKEditor –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ—ë –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª

#### 2. üñ®Ô∏è Ctrl+V (–≤—Å—Ç–∞–≤–∫–∞ –∏–∑ –±—É—Ñ–µ—Ä–∞)
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
- –ù–∞–∂–º–∏—Ç–µ `Ctrl+V` –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∏ –≤—Å—Ç–∞–≤–∏—Ç—Å—è

#### 3. üñ±Ô∏è Drag & Drop (–ø–µ—Ä–µ—Ç—è–≥–∏–≤–∞–Ω–∏–µ)
- –ü–µ—Ä–µ—Ç—è–Ω–∏—Ç–µ —Ñ–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä—è–º–æ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä
- –§–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∏ –≤—Å—Ç–∞–≤–∏—Ç—Å—è

### üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:

#### Flask —Ä–æ—É—Ç `/upload-image`:
```python
@csrf.exempt
@app.route('/upload-image', methods=['POST'])
def upload_image():
    # –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ /static/uploads/
    # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: {"uploaded": True, "url": "https://domain.com/static/uploads/filename.jpg"}
```

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è CKEditor:
```javascript
ckfinder: {
    uploadUrl: '/upload-image'
}
```

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤:
```
static/
‚îú‚îÄ‚îÄ uploads/           # üì∑ –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ 20241201_143022_image1.jpg
‚îÇ   ‚îî‚îÄ‚îÄ 20241201_143045_image2.png
‚îî‚îÄ‚îÄ img/
    ‚îú‚îÄ‚îÄ materials/     # üé® –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
    ‚îú‚îÄ‚îÄ users/         # üë§ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    ‚îî‚îÄ‚îÄ brands/        # üè∑Ô∏è –õ–æ–≥–æ—Ç–∏–ø—ã –±—Ä–µ–Ω–¥–æ–≤
```

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- –ò–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `secure_filename()`
- –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏
- CSRF –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–æ—É—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏

### üí° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±—É—é —Ñ–æ—Ä–º—É —Å CKEditor
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª—é–±–æ–π –∏–∑ —Ç—Ä—ë—Ö —Å–ø–æ—Å–æ–±–æ–≤ –∑–∞–≥—Ä—É–∑–∫–∏
3. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –≤ —Ç–µ–∫—Å—Ç–µ
4. –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ñ–æ—Ä–º—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Å—Ç–∞–Ω—É—Ç—Å—è –≤ –æ–ø–∏—Å–∞–Ω–∏–∏

### üåê –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Google Drive —Å—Å—ã–ª–∫–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±—ã—á–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –†–∞–±–æ—Ç–∞–µ—Ç —Å –º–æ–±–∏–ª—å–Ω—ã–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ 